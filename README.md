# 林木碳汇测算系统

一个高效、精准的林业碳汇计量与分析平台，帮助用户进行林木碳汇的测算和分析。

## 系统功能

- 区域绘制：支持多边形、矩形、圆形等多种方式在地图上绘制区域
- 碳汇计算：基于多种森林生物量模型计算区域碳汇
- 数据可视化：通过图表直观展示碳汇分析结果
- 数据导出：支持导出分析数据为JSON格式
- 区域管理：增加、删除、重命名区域

## 系统要求

- Windows 10操作系统
- Node.js v14.0.0或更高版本
- 网络连接（用于加载地图）
- PostgreSQL 数据库（已配置并安装PostGIS扩展）

## 快速开始

### 首次安装

首次使用系统，请按照以下步骤进行安装和配置：

1. 确保已安装Node.js（可从 https://nodejs.org/zh-cn/download/ 下载）
2. 确保已安装并配置PostgreSQL数据库（推荐版本10或更高）
3. 运行`系统安装.bat`完成环境检查和依赖安装
4. 安装完成后，系统将询问是否立即启动，可选择"Y"立即启动

### 启动系统

系统启动非常简单，只需要：

- 双击`快速启动.bat`文件 - 直接启动前端和后端服务

### 访问系统

系统启动后，可通过以下地址访问：

- 前端访问地址：http://localhost:8080
- 后端API地址：http://localhost:5000

## 常见问题

#### 问题1：启动脚本报错，提示"未检测到Node.js"

解决方案：请确保已正确安装Node.js，并将其添加到系统环境变量中。可以在命令行中运行`node -v`检查是否正确安装。

#### 问题2：无法加载地图或系统界面

解决方案：确保您的计算机已连接到互联网，因为系统需要加载在线地图资源和部分UI组件。

#### 问题3：端口被占用导致启动失败

解决方案：如果提示端口(8080或5000)被占用，可以修改`server/.env`文件中的PORT值，更改后端端口。前端端口可在`快速启动.bat`文件中修改FRONTEND_PORT变量。

#### 问题4：数据库连接失败

解决方案：确保PostgreSQL数据库已正确安装并运行，且已安装PostGIS扩展。检查`server/.env`文件中的数据库连接配置是否正确。

## 许可证

本系统遵循MIT许可证开源。 